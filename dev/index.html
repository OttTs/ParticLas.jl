<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ParticLas</title><meta name="title" content="Home · ParticLas"/><meta property="og:title" content="Home · ParticLas"/><meta property="twitter:title" content="Home · ParticLas"/><meta name="description" content="Documentation for ParticLas."/><meta property="og:description" content="Documentation for ParticLas."/><meta property="twitter:description" content="Documentation for ParticLas."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>ParticLas</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Physical-model"><span>Physical model</span></a></li><li><a class="tocitem" href="#Numerical-model"><span>Numerical model</span></a></li><li><a class="tocitem" href="#Movement-Step"><span>Movement Step</span></a></li><li><a class="tocitem" href="#Collision-Step"><span>Collision Step</span></a></li><li><a class="tocitem" href="#Simulation-Parameters"><span>Simulation Parameters</span></a></li><li><a class="tocitem" href="#Limitations-and-Simplifications"><span>Limitations &amp; Simplifications</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/OttTs/ParticLas.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/OttTs/ParticLas.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="How-ParticLas-works"><a class="docs-heading-anchor" href="#How-ParticLas-works">How ParticLas works</a><a id="How-ParticLas-works-1"></a><a class="docs-heading-anchor-permalink" href="#How-ParticLas-works" title="Permalink"></a></h1><h2 id="Physical-model"><a class="docs-heading-anchor" href="#Physical-model">Physical model</a><a id="Physical-model-1"></a><a class="docs-heading-anchor-permalink" href="#Physical-model" title="Permalink"></a></h2><p>In ParticLas, the (single species) BGK-Boltzmann equation</p><p class="math-container">\[    \frac{\partial f}{\partial t} + v\cdot\frac{\partial f}{\partial x} = \frac{1}{\tau}(f_t - f)\]</p><p>is solved. Here, <span>$f=f(x,v,t)$</span> is the density function at position <span>$x$</span>, velocity <span>$v$</span> and time <span>$t$</span>. The right hand side is the <em>BGK</em> collision operator, where <span>$\tau$</span> is the <em>relaxation time</em> and <span>$f_t$</span> is the target distribution function. In the original BGK model, the target distribution function is a simple Maxwellian distribution defined by the number density <span>$n$</span>, the macroscopic velocity <span>$u$</span> and the temperature <span>$T$</span>.</p><h2 id="Numerical-model"><a class="docs-heading-anchor" href="#Numerical-model">Numerical model</a><a id="Numerical-model-1"></a><a class="docs-heading-anchor-permalink" href="#Numerical-model" title="Permalink"></a></h2><p>The density function is approximated using a large number of simulation particles:</p><p class="math-container">\[    f(x,v,t)\approx\sum_p{\omega_p\delta(x-x_p)\delta(v-v_p)}.\]</p><p>Each particle is defined by its position <span>$x_p$</span> and velocity <span>$v_p$</span>. The <em>weighting factor</em> <span>$\omega_p$</span> defines, how many &quot;physical&quot; particles are represented by a single simulation particle. Given the vast number of particles in reality, this weighting factor is set to a fairly large number (<span>$\omega_p=5\cdot 10^{15}$</span> in ParticLas).</p><h3 id="Time-stepping"><a class="docs-heading-anchor" href="#Time-stepping">Time stepping</a><a id="Time-stepping-1"></a><a class="docs-heading-anchor-permalink" href="#Time-stepping" title="Permalink"></a></h3><p>The Boltzmann equation is solved using an operator splitting method, dividing it into a movement operator</p><p class="math-container">\[    \frac{\partial f}{\partial t} + v\cdot\frac{\partial f}{\partial x} = 0\]</p><p>and a collision operator</p><p class="math-container">\[    \frac{\partial f}{\partial t} = \frac{1}{\tau}(f_t - f)\]</p><p>The two equations are solved successively.</p><h2 id="Movement-Step"><a class="docs-heading-anchor" href="#Movement-Step">Movement Step</a><a id="Movement-Step-1"></a><a class="docs-heading-anchor-permalink" href="#Movement-Step" title="Permalink"></a></h2><h3 id="Particle-insertion"><a class="docs-heading-anchor" href="#Particle-insertion">Particle insertion</a><a id="Particle-insertion-1"></a><a class="docs-heading-anchor-permalink" href="#Particle-insertion" title="Permalink"></a></h3><p>Before the particles are moved, new particles are inserted at the left free-stream boundary. The particles are inserted assuming a Maxwellian distribution (thermal equilibrium) with a given temperature and inflow velocity. The density defines the actual number of particles inserted in each time step.</p><p>The two sliders in ParticLas directly set the velocity and density of the inflow distribution. The velocity can be set between <span>$5000\,\mathrm{m}/\mathrm{s}$</span> and <span>$10000\,\mathrm{m}/\mathrm{s}$</span>. The density is calculated from the altitude <span>$h$</span></p><p class="math-container">\[    \rho = 1.225\,\frac{\mathrm{kg}}{\mathrm{m}^3} \cdot \exp\left(-0.11856\,\frac{1}{\mathrm{m}} \cdot h\right)\]</p><p>where the altitude can be set between <span>$90\,\mathrm{km}$</span> and <span>$120\,\mathrm{km}$</span>.</p><h3 id="Particle-movement"><a class="docs-heading-anchor" href="#Particle-movement">Particle movement</a><a id="Particle-movement-1"></a><a class="docs-heading-anchor-permalink" href="#Particle-movement" title="Permalink"></a></h3><p>In the movement step, the particle positions are updated by a simple push:</p><p class="math-container">\[    x_p^{new} = x_p + \Delta t v_p\]</p><p>However, during that push, the particle may cross either a wall or a free-stream boundary (out-/inflow). If it hits a wall, it is reflected according to the specific boundary conditions and pushed for the remaining time step. If it crosses a free-stream boundary, it is deleted.</p><h3 id="Wall-boundary-condition"><a class="docs-heading-anchor" href="#Wall-boundary-condition">Wall boundary condition</a><a id="Wall-boundary-condition-1"></a><a class="docs-heading-anchor-permalink" href="#Wall-boundary-condition" title="Permalink"></a></h3><p>When Particles hit a wall, two types of reflection can occur. First, there is the <em>specular reflection</em>, where the particle is reflected just like a mirror. The other type of reflection is a <em>diffuse reflection</em>. Here, the particle is reflected with the velocity sampled from a Maxwellian inflow with the wall velocity and temperature.</p><p>In ParticLas, a slider that sets the <em>accomodation coefficient</em> can be used to combine these two types of reflections. This coefficient simply defines the probability of a diffuse reflection vs a specular reflection. If the accomodation coefficient is 0.3, then a particle hitting the wall has a 30% chance of a specular reflection and a 70% chance of a diffuse reflection. The temperature of the walls is set to <span>$T_w=600\,\mathrm{K}$</span>.</p><h2 id="Collision-Step"><a class="docs-heading-anchor" href="#Collision-Step">Collision Step</a><a id="Collision-Step-1"></a><a class="docs-heading-anchor-permalink" href="#Collision-Step" title="Permalink"></a></h2><p>In order to calculate the relaxation time and target distribution function, the macroscopic variables (number density, bulk velocity and temperature) have to be calculated. For this, the rectangular domain is divided into <span>$120\times 80$</span> cells. In each cell, constant macroscopic values are estimated from the particle velocities.</p><p>After <span>$\tau$</span> and <span>$f_t$</span> are calculated, a relaxation probability for each particle is calculated. If the particle relaxes, its velocity is sampled from <span>$f_t$</span>.</p><p>Analytically, the momentum and energy in each cell are conserved during the collision step. However, due to the limited number of particles, an additional step that forces conservation of both values is included.</p><h2 id="Simulation-Parameters"><a class="docs-heading-anchor" href="#Simulation-Parameters">Simulation Parameters</a><a id="Simulation-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Parameters" title="Permalink"></a></h2><table><tr><th style="text-align: right"></th><th style="text-align: right"></th></tr><tr><td style="text-align: right">Species</td><td style="text-align: right">Argon</td></tr><tr><td style="text-align: right">Domain length</td><td style="text-align: right"><span>$16/9\,\mathrm{m}\times 1\,\mathrm{m}$</span></td></tr><tr><td style="text-align: right">Time step</td><td style="text-align: right"><span>$10^{-6}\,\mathrm{s}$</span></td></tr></table><h2 id="Limitations-and-Simplifications"><a class="docs-heading-anchor" href="#Limitations-and-Simplifications">Limitations &amp; Simplifications</a><a id="Limitations-and-Simplifications-1"></a><a class="docs-heading-anchor-permalink" href="#Limitations-and-Simplifications" title="Permalink"></a></h2><p>In order to run the simulation with 60fps, many simplifications have to be made</p><h3 id="1.-Time-step"><a class="docs-heading-anchor" href="#1.-Time-step">1. Time step</a><a id="1.-Time-step-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Time-step" title="Permalink"></a></h3><p>The time step in ParticLas is fixed. This may be an issue in the shock region, since the density is quite high. In order to resolve the shock, a smaller time step is probably necessary. This high time step may lead to a bigger distance between the shock and walls.</p><h3 id="2.-Cell-size-and-particle-number"><a class="docs-heading-anchor" href="#2.-Cell-size-and-particle-number">2. Cell size and particle number</a><a id="2.-Cell-size-and-particle-number-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Cell-size-and-particle-number" title="Permalink"></a></h3><p>The relatively large cell size may not be able to capture all gradients, especially where the density is quite high. Also, the high particle weighting leads to fewer simulation particles which also introduces some error.</p><h3 id="3.-2D-Simulation"><a class="docs-heading-anchor" href="#3.-2D-Simulation">3. 2D Simulation</a><a id="3.-2D-Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#3.-2D-Simulation" title="Permalink"></a></h3><p>In ParticLas, the Boltzmann equation on a flat two-dimensional domain is solved. In reality, this would correspond to a body that is stretched infinitely in the third dimension. Of course, this assumption is only rarely useful.</p><h3 id="4.-Collision-operator"><a class="docs-heading-anchor" href="#4.-Collision-operator">4. Collision operator</a><a id="4.-Collision-operator-1"></a><a class="docs-heading-anchor-permalink" href="#4.-Collision-operator" title="Permalink"></a></h3><p>The standard BGK operator, which is used to approximate the Boltzmann collision integral, is known to have a fixed Knudsen number <span>$Kn=1$</span>. This is a rather rough approximation when accuracy is needed.</p><h3 id="5.-Walls-do-not-split-the-cells"><a class="docs-heading-anchor" href="#5.-Walls-do-not-split-the-cells">5. Walls do not split the cells</a><a id="5.-Walls-do-not-split-the-cells-1"></a><a class="docs-heading-anchor-permalink" href="#5.-Walls-do-not-split-the-cells" title="Permalink"></a></h3><p>When calculating the macroscopic values in the cells, it is not taken into account if there are walls inside the cell. For example, a wall may split a cell in half. Even if there are many particles to the left of the wall and only one to the right, there would still be a single macroscopic value for all particles. When looking at the heatmap plots (density, velocity, temperature), this can be seen.</p><h3 id="6.-Single-species"><a class="docs-heading-anchor" href="#6.-Single-species">6. Single species</a><a id="6.-Single-species-1"></a><a class="docs-heading-anchor-permalink" href="#6.-Single-species" title="Permalink"></a></h3><p>In ParticLas, only a single species (Argon) is used.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Monday 1 July 2024 06:52">Monday 1 July 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
